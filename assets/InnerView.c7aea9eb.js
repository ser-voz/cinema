import{d as N,l as v,a as L,k as j,b as q,u as S,r as C,e as z,o,f as T,w as y,T as D,g as t,c as i,h as F,i as s,t as l,F as m,j as h,m as d,n as a,p as M,q as P,s as E,v as x,x as G,y as H,_ as O}from"./index.08614031.js";const U=N({id:"inner",state:()=>({item:{},trailer:""}),actions:{async setInfo(_,f){try{v().getStatus(!0);const c=await L.get(`https://api.themoviedb.org/3/${f}/${_}?api_key=${j}&language=en-US&append_to_response=videos,credits`);this.item=c.data,this.getVideo(),this.trailer=c.data.videos.results.reverse().find(e=>e.type===this.trailer)}catch(c){console.log(c)}finally{v().banner=this.item.backdrop_path,v().getStatus(!1)}},getVideo(){if(this.item.videos.results.reverse().find(_=>_.type==="Trailer"))return this.trailer="Trailer",!0;if(this.item.videos.results.reverse().find(_=>_.type==="Teaser"))return this.trailer="Teaser",!0;if(this.item.videos.results.reverse().find(_=>_.type==="Clip"))return this.trailer="Clip",!0}}}),r=_=>(G("data-v-d32a09f4"),_=_(),H(),_),Y={key:0},A=d(" Back "),J={class:"info-header"},K={class:"img"},Q=["src"],W={key:1,class:"placeholder",src:E,alt:""},X={class:"info"},Z={key:0,class:"genres"},ee={class:"overview"},te={key:0},se={key:1},oe={key:0},ie={key:1},ne={class:"actors"},ae=r(()=>s("h3",null,"Cast",-1)),le={class:"actor"},re=["src","title","alt"],_e=["title","alt"],de={class:"info-footer"},ce={class:"info-footer__text"},ue=r(()=>s("h2",null,"Details",-1)),pe=r(()=>s("span",null,"Status:",-1)),me=r(()=>s("span",null,"Tagline:",-1)),he={key:0},ve=r(()=>s("span",null,"Budget:",-1)),fe=r(()=>s("span",null,"Rating:",-1)),ge=r(()=>s("li",null,"Countries:",-1)),ye={key:0},ke={class:"companies"},we=r(()=>s("li",null,"Companies:",-1)),be={key:0},Se={key:1},Ce=r(()=>s("span",null,"Revenue:",-1)),Te={key:2},xe=r(()=>s("span",null,"Running time:",-1)),Be=r(()=>s("li",null,"Original language:",-1)),Ie={key:0},Ve=r(()=>s("span",null,"Release date:",-1)),$e=["href"],Re={class:"info-footer__video-wrap"},Ne=r(()=>s("ul",{class:"info-footer__video-type"},[s("li",{class:"active"},"Trailer")],-1)),Le={class:"info-footer__video"},je={key:0},qe=["src"],ze=q({__name:"InnerView",setup(_){const f=String(S().params.id),c=String(S().params.type),e=U();e.setInfo(f,c);const g=C(!1),B=()=>{g.value=!0},u=C(!1),I=()=>{u.value?u.value=!1:u.value=!0};return window.scrollTo(0,0),z(()=>{console.log("qq")}),(V,k)=>{const $=x("ButtonBordered"),R=x("RouterLink");return o(),T(D,{name:"scale",mode:"out-in"},{default:y(()=>{var w,b;return[t(v)().isLoading?a("",!0):(o(),i("div",Y,[F($,{class:"btn-back",onClick:k[0]||(k[0]=n=>V.$router.back())},{default:y(()=>[A]),_:1}),s("div",J,[s("div",K,[t(e).item.poster_path?(o(),i("img",{key:0,src:"https://www.themoviedb.org/t/p/w300_and_h450_face"+t(e).item.poster_path,alt:""},null,8,Q)):(o(),i("img",W))]),s("div",X,[s("h1",null,l(t(e).item.title||t(e).item.name),1),t(e).item.genres.length?(o(),i("ul",Z,[(o(!0),i(m,null,h(t(e).item.genres,n=>(o(),i("li",null,[(o(),T(R,{to:{path:`/genre/${n.id}-${n.name}/${t(c)}`},key:n.id},{default:y(()=>[d(l(n.name),1)]),_:2},1032,["to"]))]))),256))])):a("",!0),s("div",ee,[t(e).item.overview===""?(o(),i("p",te," No description ")):(o(),i("div",se,[s("p",{class:M({hidden:!u.value})},l(t(e).item.overview),3),t(e).item.overview.length>295?(o(),i("span",{key:0,onClick:I},[u.value?(o(),i("small",oe,"less")):a("",!0),u.value?a("",!0):(o(),i("small",ie,"...more"))])):a("",!0)]))]),s("div",ne,[ae,s("div",null,[(o(!0),i(m,null,h(t(e).item.credits.cast.slice(0,24),n=>(o(),i("div",le,[n.profile_path?(o(),i("img",{key:0,src:"https://www.themoviedb.org/t/p/w138_and_h175_face"+n.profile_path,title:n.name,alt:n.name},null,8,re)):(o(),i("img",{key:1,src:"https://orienteering.org.ua/wp-content/uploads/2019/12/person-placeholder-300x300-1.jpg",title:n.name,alt:n.name},null,8,_e))]))),256))])])])]),s("div",de,[s("div",ce,[ue,s("p",null,[pe,d(" "+l(t(e).item.status),1)]),s("p",null,[me,d(" "+l(t(e).item.tagline),1)]),t(e).item.budget?(o(),i("p",he,[ve,d(" "+l(t(e).item.budget)+"$",1)])):a("",!0),s("p",null,[fe,d(" "+l(t(e).item.vote_average),1)]),s("ul",null,[ge,(o(!0),i(m,null,h(t(e).item.production_countries,(n,p)=>(o(),i("li",{key:n.id},[d(l(n.name),1),t(e).item.production_countries.length!==p+1?(o(),i("small",ye,",")):a("",!0)]))),128))]),s("ul",ke,[we,(o(!0),i(m,null,h(t(e).item.production_companies,(n,p)=>(o(),i("li",{key:n.id},[d(l(n.name),1),t(e).item.production_companies.length!==p+1?(o(),i("small",be,",")):a("",!0)]))),128))]),t(e).item.revenue?(o(),i("p",Se,[Ce,d(" "+l(t(e).item.revenue)+"$",1)])):a("",!0),t(e).item.runtime?(o(),i("p",Te,[xe,d(" ~ "+l(((w=t(e).item)==null?void 0:w.runtime)||((b=t(e).item)==null?void 0:b.episode_run_time[0]))+" min.",1)])):a("",!0),s("ul",null,[Be,(o(!0),i(m,null,h(t(e).item.spoken_languages,(n,p)=>(o(),i("li",{key:n.iso_639_1},[d(l(n.name),1),t(e).item.spoken_languages.length!==p+1?(o(),i("small",Ie,",")):a("",!0)]))),128))]),s("p",null,[Ve,d(" "+l(t(e).item.release_date||t(e).item.first_air_date),1)]),s("a",{href:t(e).item.homepage,target:"_blank"},"Go to Homepage",8,$e)]),s("div",Re,[Ne,s("div",Le,[t(e).trailer?a("",!0):(o(),i("h2",je," Video not found ")),t(e).trailer&&!g.value?(o(),i("div",{key:1,onClick:B,class:"info-footer__video-play",style:P({"background-image":"url(https://i3.ytimg.com/vi/"+t(e).trailer.key+"/maxresdefault.jpg)"})},null,4)):a("",!0),t(e).trailer&&g.value?(o(),i("iframe",{key:2,width:"100%",src:"https://www.youtube.com/embed/"+t(e).trailer.key+"?autoplay=1",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},null,8,qe)):a("",!0)])])])]))]}),_:1})}}});const Fe=O(ze,[["__scopeId","data-v-d32a09f4"]]);export{Fe as default};
