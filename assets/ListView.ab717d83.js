import{d,l as o,a as i,k as n,b as g,u as h,g as s,o as r,c,i as m,t as u,h as p,w as y,T as f,C as v,n as l,D as w,L as S,m as T,_ as k}from"./index.08614031.js";const V=d({id:"listOfType",state:()=>({items:[],page:1,totalPages:0,type:""}),actions:{async getItemsByType(e){this.type=e,this.page=1;try{o().getStatus(!0);const t=await i.get(`https://api.themoviedb.org/3/${e}/popular?api_key=${n}&language=en-US&page=${this.page}`);this.items=t.data.results,this.totalPages=t.data.total_pages}catch(t){console.log(t)}finally{o().getStatus(!1)}},loadMore(){this.page+1>this.totalPages||(this.page++,i.get(`https://api.themoviedb.org/3/${this.type}/popular?api_key=${n}&language=en-US&page=${this.page}`).then(e=>this.items=[...this.items,...e.data.results]).catch(e=>console.log(e)))}}}),x={key:0},L={key:0,class:"load-more"},$=T("Load more"),B=[$],C=g({__name:"ListView",setup(e){const t=String(h().params.type),a=V();return a.getItemsByType(t),window.scrollTo(0,0),(D,I)=>{const _=w("intersection");return s(o)().isLoading?l("",!0):(r(),c("div",x,[m("h2",null,u(s(t)==="movie"?"Movies":"TV Shows"),1),p(f,{name:"fade",mode:"out-in"},{default:y(()=>[p(S,{items:s(a).items},null,8,["items"])]),_:1}),s(a).items.length?v((r(),c("span",L,B)),[[_,s(a).loadMore]]):l("",!0)]))}}});const b=k(C,[["__scopeId","data-v-73f8028a"]]);export{b as default};
